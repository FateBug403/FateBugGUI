/*! 
 Build based on gin-vue-admin 
 Time : 1700979371000 */
import{az as a,$ as e,R as l,aF as t,w as s,x as r,Z as n,D as o,C as c,au as i,aG as u,v as d,B as p,H as m,aC as h,aE as f,aj as g,aB as w}from"./087AC4D233B64EB0index.js";import{E as b,h as v,f as y}from"./087AC4D233B64EB0initdb.js";/* empty css                      */import x from"./087AC4D233B64EB0bottomInfo.js";const _=""+new URL("087AC4D233B64EB0login_right_banner.jpg",import.meta.url).href,B=""+new URL("087AC4D233B64EB0docs.png",import.meta.url).href,C=""+new URL("087AC4D233B64EB0kefu.png",import.meta.url).href,E=""+new URL("087AC4D233B64EB0github.png",import.meta.url).href,j=""+new URL("087AC4D233B64EB0video.png",import.meta.url).href,k={id:"userLayout",class:"w-full h-full relative"},A={class:"rounded-lg flex items-center justify-evenly w-full h-full bg-white md:w-screen md:h-screen md:bg-[#194bfb]"},D={class:"md:w-3/5 w-10/12 h-full flex items-center justify-evenly"},I=r("div",{class:"oblique h-[130%] w-3/5 bg-white transform -rotate-12 absolute -ml-52"},null,-1),L={class:"z-[999] pt-12 pb-10 md:w-96 w-full rounded-lg flex flex-col justify-between box-border"},V={class:"flex items-center justify-center"},U=["src"],z={class:"mb-9"},N={class:"text-center text-4xl font-bold"},R=r("p",{class:"text-center text-sm font-normal text-gray-500 mt-2.5"},"A management platform using Golang and Vue ",-1),G={class:"flex w-full justify-between"},q={class:"w-1/3 h-11 bg-[#c3d4f2] rounded"},$=["src"],F=r("div",{class:"hidden md:block w-1/2 h-full float-right bg-[#194bfb]"},[r("img",{class:"h-full",src:_,alt:"banner"})],-1),K=r("div",{class:"links items-center justify-center gap-2 hidden md:flex"},[r("a",{href:"http://doc.henrongyi.top/",target:"_blank"},[r("img",{src:B,class:"w-8 h-8",alt:"文档"})]),r("a",{href:"https://support.qq.com/product/371961",target:"_blank"},[r("img",{src:C,class:"w-8 h-8",alt:"客服"})]),r("a",{href:"https://github.com/flipped-aurora/gin-vue-admin",target:"_blank"},[r("img",{src:E,class:"w-8 h-8",alt:"github"})]),r("a",{href:"https://space.bilibili.com/322210472",target:"_blank"},[r("img",{src:j,class:"w-8 h-8",alt:"视频站"})])],-1),M=Object.assign({name:"Login"},{__name:"index",setup(_){const B=a(),C=()=>{u({}).then((async a=>{H.captcha.push({max:a.data.captchaLength,min:a.data.captchaLength,message:"请输入".concat(a.data.captchaLength,"位验证码"),trigger:"blur"}),j.value=a.data.picPath,M.captchaId=a.data.captchaId,M.openCaptcha=a.data.openCaptcha}))};C();const E=e(null),j=e(""),M=l({username:"admin",password:"123456",captcha:"",captchaId:"",openCaptcha:!1}),H=l({username:[{validator:(a,e,l)=>{if(e.length<5)return l(new Error("请输入正确的用户名"));l()},trigger:"blur"}],password:[{validator:(a,e,l)=>{if(e.length<6)return l(new Error("请输入正确的密码"));l()},trigger:"blur"}],captcha:[{message:"验证码格式不正确",trigger:"blur"}]}),O=t(),P=()=>{E.value.validate((async a=>{if(!a)return f({type:"error",message:"请正确填写登录信息",showClose:!0}),C(),!1;await(async()=>await O.LoginIn(M))()||C()}))},Z=async()=>{var a;const e=await v();0===e.code&&((null==(a=e.data)?void 0:a.needInit)?(O.NeedInit(),B.push({name:"Init"})):f({type:"info",message:"已配置数据库信息，无法初始化"}))};return(a,e)=>{const l=g,t=y,u=w,f=b;return d(),s("div",k,[r("div",A,[r("div",D,[I,r("div",L,[r("div",null,[r("div",V,[r("img",{class:"w-24",src:a.$GIN_VUE_ADMIN.appLogo,alt:""},null,8,U)]),r("div",z,[r("p",N,n(a.$GIN_VUE_ADMIN.appName),1),R]),o(f,{ref_key:"loginForm",ref:E,model:M,rules:H,"validate-on-rule-change":!1,onKeyup:i(P,["enter"])},{default:c((()=>[o(t,{prop:"username",class:"mb-6"},{default:c((()=>[o(l,{modelValue:M.username,"onUpdate:modelValue":e[0]||(e[0]=a=>M.username=a),size:"large",placeholder:"请输入用户名","suffix-icon":"user"},null,8,["modelValue"])])),_:1}),o(t,{prop:"password",class:"mb-6"},{default:c((()=>[o(l,{modelValue:M.password,"onUpdate:modelValue":e[1]||(e[1]=a=>M.password=a),"show-password":"",size:"large",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),M.openCaptcha?(d(),p(t,{key:0,prop:"captcha",class:"mb-6"},{default:c((()=>[r("div",G,[o(l,{modelValue:M.captcha,"onUpdate:modelValue":e[2]||(e[2]=a=>M.captcha=a),placeholder:"请输入验证码",size:"large",class:"flex-1 mr-5"},null,8,["modelValue"]),r("div",q,[j.value?(d(),s("img",{key:0,class:"w-full h-full",src:j.value,alt:"请输入验证码",onClick:e[3]||(e[3]=a=>C())},null,8,$)):m("",!0)])])])),_:1})):m("",!0),o(t,{class:"mb-6"},{default:c((()=>[o(u,{class:"shadow shadow-blue-600 h-11 w-full",type:"primary",size:"large",onClick:P},{default:c((()=>[h("登 录")])),_:1})])),_:1}),o(t,{class:"mb-6"},{default:c((()=>[o(u,{class:"shadow shadow-blue-600 h-11 w-full",type:"primary",size:"large",onClick:Z},{default:c((()=>[h("前往初始化")])),_:1})])),_:1})])),_:1},8,["model","rules","onKeyup"])])])]),F]),o(x,{class:"left-0 right-0 absolute bottom-3 mx-auto w-full z-20"},{default:c((()=>[K])),_:1})])}}});export{M as default};
