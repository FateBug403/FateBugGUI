/*! 
 Build based on gin-vue-admin 
 Time : 1700979371000 */
import{a4 as e,bk as a,bl as t,n as l,aQ as s,b7 as n,p as o,N as r,K as u,aV as i,q as c,$ as v,P as d,W as p,a1 as m,v as b,w as f,z as y,A as g,I as h,_ as S,bm as C,bn as k,s as w,a0 as N,aW as x,D as P,G as T,bo as q,bp as I,E,ad as O,a3 as B,ao as A,y as R,bq as _,ae as J,aa as V,af as j,ab as F,aX as L,br as K,R as z,b3 as $,X,Y as D,H,J as M,ay as W,b9 as Y,az as U,aF as G,ba as Q,C as Z,as as ee,at as ae,B as te,x as le,aC as se,Z as ne,F as oe}from"./087AC4D233B64EB0index.js";import{c as re}from"./087AC4D233B64EB0strings.js";const ue=(l,s)=>{const n={},o=e([]);return{children:o,addChild:e=>{n[e.uid]=e,o.value=((e,l,s)=>a(e.subTree).filter((e=>{var a;return t(e)&&(null==(a=e.type)?void 0:a.name)===l&&!!e.component})).map((e=>e.component.uid)).map((e=>s[e])).filter((e=>!!e)))(l,s,n)},removeChild:e=>{delete n[e],o.value=o.value.filter((a=>a.uid!==e))}}},ie=Symbol("tabsRootContextKey"),ce=l({tabs:{type:s(Array),default:()=>n([])}}),ve="ElTabBar",de=o({name:ve});var pe=S(o({...de,props:ce,setup(e,{expose:a}){const t=e,l=r(),s=u(ie);s||i(ve,"<el-tabs><el-tab-bar /></el-tabs>");const n=c("tabs"),o=v(),S=v(),C=()=>S.value=(()=>{let e=0,a=0;const n=["top","bottom"].includes(s.props.tabPosition)?"width":"height",o="width"===n?"x":"y",r="x"===o?"left":"top";return t.tabs.every((s=>{var o,u;const i=null==(u=null==(o=l.parent)?void 0:o.refs)?void 0:u["tab-".concat(s.uid)];if(!i)return!1;if(!s.active)return!0;e=i["offset".concat(re(r))],a=i["client".concat(re(n))];const c=window.getComputedStyle(i);return"width"===n&&(t.tabs.length>1&&(a-=Number.parseFloat(c.paddingLeft)+Number.parseFloat(c.paddingRight)),e+=Number.parseFloat(c.paddingLeft)),!1})),{[n]:"".concat(a,"px"),transform:"translate".concat(re(o),"(").concat(e,"px)")}})();return d((()=>t.tabs),(async()=>{await p(),C()}),{immediate:!0}),m(o,(()=>C())),a({ref:o,update:C}),(e,a)=>(b(),f("div",{ref_key:"barRef",ref:o,class:y([g(n).e("active-bar"),g(n).is(g(s).props.tabPosition)]),style:h(S.value)},null,6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const me=l({panes:{type:s(Array),default:()=>n([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),be="ElTabNav",fe=o({name:be,props:me,emits:{tabClick:(e,a,t)=>t instanceof Event,tabRemove:(e,a)=>a instanceof Event},setup(e,{expose:a,emit:t}){const l=r(),s=u(ie);s||i(be,"<el-tabs><tab-nav /></el-tabs>");const n=c("tabs"),o=C(),b=k(),f=v(),y=v(),g=v(),h=v(),S=v(!1),B=v(0),A=v(!1),R=v(!0),_=w((()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height")),J=w((()=>{const e="width"===_.value?"X":"Y";return{transform:"translate".concat(e,"(-").concat(B.value,"px)")}})),V=()=>{if(!f.value)return;const e=f.value["offset".concat(re(_.value))],a=B.value;if(!a)return;const t=a>e?a-e:0;B.value=t},j=()=>{if(!f.value||!y.value)return;const e=y.value["offset".concat(re(_.value))],a=f.value["offset".concat(re(_.value))],t=B.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;B.value=l},F=async()=>{const e=y.value;if(!(S.value&&g.value&&f.value&&e))return;await p();const a=g.value.querySelector(".is-active");if(!a)return;const t=f.value,l=["top","bottom"].includes(s.props.tabPosition),n=a.getBoundingClientRect(),o=t.getBoundingClientRect(),r=l?e.offsetWidth-o.width:e.offsetHeight-o.height,u=B.value;let i=u;l?(n.left<o.left&&(i=u-(o.left-n.left)),n.right>o.right&&(i=u+n.right-o.right)):(n.top<o.top&&(i=u-(o.top-n.top)),n.bottom>o.bottom&&(i=u+(n.bottom-o.bottom))),i=Math.max(i,0),B.value=Math.min(i,r)},L=()=>{var a;if(!y.value||!f.value)return;e.stretch&&(null==(a=h.value)||a.update());const t=y.value["offset".concat(re(_.value))],l=f.value["offset".concat(re(_.value))],s=B.value;l<t?(S.value=S.value||{},S.value.prev=s,S.value.next=s+l<t,t-s<l&&(B.value=t-l)):(S.value=!1,s>0&&(B.value=0))},K=e=>{const a=e.code,{up:t,down:l,left:s,right:n}=O;if(![t,l,s,n].includes(a))return;const o=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=o.indexOf(e.target);let u;u=a===s||a===t?0===r?o.length-1:r-1:r<o.length-1?r+1:0,o[u].focus({preventScroll:!0}),o[u].click(),z()},z=()=>{R.value&&(A.value=!0)},$=()=>A.value=!1;return d(o,(e=>{"hidden"===e?R.value=!1:"visible"===e&&setTimeout((()=>R.value=!0),50)})),d(b,(e=>{e?setTimeout((()=>R.value=!0),50):R.value=!1})),m(g,L),N((()=>setTimeout((()=>F()),0))),x((()=>L())),a({scrollToActiveTab:F,removeFocus:$}),d((()=>e.panes),(()=>l.update()),{flush:"post",deep:!0}),()=>{const a=S.value?[P("span",{class:[n.e("nav-prev"),n.is("disabled",!S.value.prev)],onClick:V},[P(T,null,{default:()=>[P(q,null,null)]})]),P("span",{class:[n.e("nav-next"),n.is("disabled",!S.value.next)],onClick:j},[P(T,null,{default:()=>[P(I,null,null)]})])]:null,l=e.panes.map(((a,l)=>{var o,r,u,i;const c=a.uid,v=a.props.disabled,d=null!=(r=null!=(o=a.props.name)?o:a.index)?r:"".concat(l),p=!v&&(a.isClosable||e.editable);a.index="".concat(l);const m=p?P(T,{class:"is-icon-close",onClick:e=>t("tabRemove",a,e)},{default:()=>[P(E,null,null)]}):null,b=(null==(i=(u=a.slots).label)?void 0:i.call(u))||a.props.label,f=!v&&a.active?0:-1;return P("div",{ref:"tab-".concat(c),class:[n.e("item"),n.is(s.props.tabPosition),n.is("active",a.active),n.is("disabled",v),n.is("closable",p),n.is("focus",A.value)],id:"tab-".concat(d),key:"tab-".concat(c),"aria-controls":"pane-".concat(d),role:"tab","aria-selected":a.active,tabindex:f,onFocus:()=>z(),onBlur:()=>$(),onClick:e=>{$(),t("tabClick",a,d,e)},onKeydown:e=>{!p||e.code!==O.delete&&e.code!==O.backspace||t("tabRemove",a,e)}},[b,m])}));return P("div",{ref:g,class:[n.e("nav-wrap"),n.is("scrollable",!!S.value),n.is(s.props.tabPosition)]},[a,P("div",{class:n.e("nav-scroll"),ref:f},[P("div",{class:[n.e("nav"),n.is(s.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:y,style:J.value,role:"tablist",onKeydown:K},[e.type?null:P(pe,{ref:h,tabs:[...e.panes]},null),l])])])}}}),ye=l({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:s(Function),default:()=>!0},stretch:Boolean}),ge=e=>j(e)||F(e),he=o({name:"ElTabs",props:ye,emits:{[J]:e=>ge(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>ge(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>ge(e),tabAdd:()=>!0},setup(e,{emit:a,slots:t,expose:l}){var s,n;const o=c("tabs"),{children:u,addChild:i,removeChild:m}=ue(r(),"ElTabPane"),b=v(),f=v(null!=(n=null!=(s=e.modelValue)?s:e.activeName)?n:"0"),y=async(t,l=!1)=>{var s,n,o;if(f.value!==t&&!V(t))try{!1!==await(null==(s=e.beforeLeave)?void 0:s.call(e,t,f.value))&&(f.value=t,l&&(a(J,t),a("tabChange",t)),null==(o=null==(n=b.value)?void 0:n.removeFocus)||o.call(n))}catch(r){}},g=(e,t,l)=>{e.props.disabled||(y(t,!0),a("tabClick",e,l))},h=(e,t)=>{e.props.disabled||V(e.props.name)||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tabRemove",e.props.name))},S=()=>{a("edit",void 0,"add"),a("tabAdd")};return B({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},w((()=>!!e.activeName))),d((()=>e.activeName),(e=>y(e))),d((()=>e.modelValue),(e=>y(e))),d(f,(async()=>{var e;await p(),null==(e=b.value)||e.scrollToActiveTab()})),A(ie,{props:e,currentName:f,registerPane:i,unregisterPane:m}),l({currentName:f}),()=>{const a=t.addIcon,l=e.editable||e.addable?P("span",{class:o.e("new-tab"),tabindex:"0",onClick:S,onKeydown:e=>{e.code===O.enter&&S()}},[a?R(t,"addIcon"):P(T,{class:o.is("icon-plus")},{default:()=>[P(_,null,null)]})]):null,s=P("div",{class:[o.e("header"),o.is(e.tabPosition)]},[l,P(fe,{ref:b,currentName:f.value,editable:e.editable,type:e.type,panes:u.value,stretch:e.stretch,onTabClick:g,onTabRemove:h},null)]),n=P("div",{class:o.e("content")},[R(t,"default")]);return P("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:"card"===e.type,[o.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[s,n]:[n,s]])}}}),Se=l({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ce=["id","aria-hidden","aria-labelledby"],ke="ElTabPane",we=o({name:ke});var Ne=S(o({...we,props:Se,setup(e){const a=e,t=r(),l=L(),s=u(ie);s||i(ke,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const n=c("tab-pane"),o=v(),p=w((()=>a.closable||s.props.closable)),m=K((()=>{var e;return s.currentName.value===(null!=(e=a.name)?e:o.value)})),h=v(m.value),S=w((()=>{var e;return null!=(e=a.name)?e:o.value})),C=K((()=>!a.lazy||h.value||m.value));d(m,(e=>{e&&(h.value=!0)}));const k=z({uid:t.uid,slots:l,props:a,paneName:S,active:m,index:o,isClosable:p});return N((()=>{s.registerPane(k)})),$((()=>{s.unregisterPane(k.uid)})),(e,a)=>g(C)?X((b(),f("div",{key:0,id:"pane-".concat(g(S)),class:y(g(n).b()),role:"tabpanel","aria-hidden":!g(m),"aria-labelledby":"tab-".concat(g(S))},[R(e.$slots,"default")],10,Ce)),[[D,g(m)]]):H("v-if",!0)}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const xe=M(he,{TabPane:Ne}),Pe=W(Ne),Te=(e,a)=>{const t=/\$\{(.+?)\}/,l=e.match(/\$\{(.+?)\}/g);return l&&l.forEach((l=>{const s=l.match(t)[1],n=a.params[s]||a.query[s];e=e.replace(l,n)})),e},qe={class:"router-history"},Ie=["tab"],Ee=Object.assign({name:"HistoryComponent"},{__name:"history",setup(e){const a=Y(),t=U(),l=e=>e.name+JSON.stringify(e.query)+JSON.stringify(e.params),s=v([]),n=v(""),o=v(!1),r=G(),u=e=>e.name+JSON.stringify(e.query)+JSON.stringify(e.params),i=v(0),c=v(0),p=v(!1),m=v(!1),y=v(""),S=w((()=>r.userInfo.authority.defaultRouter)),C=()=>{s.value=[{name:S.value,meta:{title:"首页"},query:{},params:{}}],t.push({name:S.value}),o.value=!1,sessionStorage.setItem("historys",JSON.stringify(s.value))},k=()=>{let e;const a=s.value.findIndex((a=>(l(a)===y.value&&(e=a),l(a)===y.value))),o=s.value.findIndex((e=>l(e)===n.value));s.value.splice(0,a),a>o&&t.push(e),sessionStorage.setItem("historys",JSON.stringify(s.value))},N=()=>{let e;const a=s.value.findIndex((a=>(l(a)===y.value&&(e=a),l(a)===y.value))),o=s.value.findIndex((e=>l(e)===n.value));s.value.splice(a+1,s.value.length),a<o&&t.push(e),sessionStorage.setItem("historys",JSON.stringify(s.value))},x=()=>{let e;s.value=s.value.filter((a=>(l(a)===y.value&&(e=a),l(a)===y.value))),t.push(e),sessionStorage.setItem("historys",JSON.stringify(s.value))},T=e=>{if(!s.value.some((a=>((e,a)=>{if(e.name!==a.name)return!1;if(Object.keys(e.query).length!==Object.keys(a.query).length||Object.keys(e.params).length!==Object.keys(a.params).length)return!1;for(const t in e.query)if(e.query[t]!==a.query[t])return!1;for(const t in e.params)if(e.params[t]!==a.params[t])return!1;return!0})(a,e)))){const a={};a.name=e.name,a.meta={...e.meta},delete a.meta.matched,a.query=e.query,a.params=e.params,s.value.push(a)}window.sessionStorage.setItem("activeValue",l(e))},q=v({}),I=e=>{var a;const l=null==(a=null==e?void 0:e.props)?void 0:a.name;if(!l)return;const s=q.value[l];t.push({name:s.name,query:s.query,params:s.params})},E=e=>{const n=s.value.findIndex((a=>l(a)===e));l(a)===e&&(1===s.value.length?t.push({name:S.value}):n<s.value.length-1?t.push({name:s.value[n+1].name,query:s.value[n+1].query,params:s.value[n+1].params}):t.push({name:s.value[n-1].name,query:s.value[n-1].query,params:s.value[n-1].params})),s.value.splice(n,1)};d((()=>o.value),(()=>{o.value?document.body.addEventListener("click",(()=>{o.value=!1})):document.body.removeEventListener("click",(()=>{o.value=!1}))})),d((()=>a),((e,a)=>{"Login"!==e.name&&"Reload"!==e.name&&(s.value=s.value.filter((e=>!e.meta.closeTab)),T(e),sessionStorage.setItem("historys",JSON.stringify(s.value)),n.value=window.sessionStorage.getItem("activeValue"))}),{deep:!0}),d((()=>s.value),(()=>{sessionStorage.setItem("historys",JSON.stringify(s.value)),q.value={},s.value.forEach((e=>{q.value[l(e)]=e})),Q.emit("setKeepAlive",s.value)}),{deep:!0});return(()=>{Q.on("closeThisPage",(()=>{E(u(a))})),Q.on("closeAllPage",(()=>{C()})),Q.on("mobile",(e=>{m.value=e})),Q.on("collapse",(e=>{p.value=e}));const e=[{name:S.value,meta:{title:"首页"},query:{},params:{}}];s.value=JSON.parse(sessionStorage.getItem("historys"))||e,window.sessionStorage.getItem("activeValue")?n.value=window.sessionStorage.getItem("activeValue"):n.value=l(a),T(a),"true"===window.sessionStorage.getItem("needCloseAll")&&(C(),window.sessionStorage.removeItem("needCloseAll"))})(),$((()=>{Q.off("collapse"),Q.off("mobile")})),(e,t)=>{const l=Pe,v=xe;return b(),f("div",qe,[P(v,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),closable:!(1===s.value.length&&e.$route.name===S.value),type:"card",onContextmenu:t[1]||(t[1]=oe((e=>(e=>{if(1===s.value.length&&a.name===S.value)return!1;let t="";if(t="SPAN"===e.srcElement.nodeName?e.srcElement.offsetParent.id:e.srcElement.id,t){let a;o.value=!0,a=p.value?54:220,m.value&&(a=0),i.value=e.clientX-a,c.value=e.clientY+10,y.value=t.substring(4)}})(e)),["prevent"])),onTabClick:I,onTabRemove:E},{default:Z((()=>[(b(!0),f(ee,null,ae(s.value,(e=>(b(),te(l,{key:u(e),label:e.meta.title,name:u(e),tab:e,class:"gva-tab"},{label:Z((()=>[le("span",{tab:e,style:h({color:n.value===u(e)?g(r).activeColor:"#333"})},[le("i",{class:"dot",style:h({backgroundColor:n.value===u(e)?g(r).activeColor:"#ddd"})},null,4),se(" "+ne(g(Te)(e.meta.title,e)),1)],12,Ie)])),_:2},1032,["label","name","tab"])))),128))])),_:1},8,["modelValue","closable"]),X(le("ul",{style:h({left:i.value+"px",top:c.value+"px"}),class:"contextmenu"},[le("li",{onClick:C},"关闭所有"),le("li",{onClick:k},"关闭左侧"),le("li",{onClick:N},"关闭右侧"),le("li",{onClick:x},"关闭其他")],4),[[D,o.value]])])}}}),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{Ee as _,Te as f,Oe as h};
